# Zeami Term エラー表示機能 テストガイド

## 実装内容

以下の機能が実装されました：

1. **ErrorStateIndicator** - エラーの視覚的表示
2. **ZeamiErrorRecorder** - エラーパターンの記録
3. **安全な統合** - Claude Codeへの影響なし

## テスト方法

### 1. アプリケーションの起動

```bash
cd projects/zeami-term
npm run dev
```

### 2. エラー表示のテスト

新しいターミナルタブを開いて、テストスクリプトを実行：

```bash
./test-error-display.sh
```

確認事項：
- エラーバナーが表示される
- エラーの種類ごとに異なるアイコンと色
- 解決策が表示される
- ×ボタンで手動で閉じられる
- 30秒後に自動的に消える

### 3. Zeami連携のテスト

```bash
# エラーが記録されているか確認
../../bin/zeami learn find "Connection error"

# オフラインエラーファイルの確認
cat .zeami-knowledge/offline-errors.json
```

### 4. 実際のClaude Codeエラーテスト

1. ネットワークを切断
2. Claude Codeでコマンドを実行
3. エラーバナーが表示されることを確認
4. ネットワークを再接続
5. アプリを再起動してオフラインエラーが同期されることを確認

## 安全性の確認

実装は以下の点で安全です：

1. **読み取り専用** - ターミナル出力を監視するのみ
2. **非侵襲的** - Claude Codeの動作に干渉しない
3. **エラーハンドリング** - 失敗してもアプリは継続動作
4. **オプトイン** - 機能が初期化に失敗しても動作継続

## トラブルシューティング

### エラーバナーが表示されない場合

1. Developer Toolsでコンソールエラーを確認
2. `errorStateIndicator.js`が正しく読み込まれているか確認
3. `require`文でエラーが出ていないか確認

### Zeami CLIとの連携ができない場合

1. Zeami CLIのパスを確認
2. `zeamiErrorRecorder.js`のログを確認
3. IPCハンドラーが正しく登録されているか確認

## 注意事項

- 初回実行時はnpm installが必要な場合があります
- macOSの場合、初回起動時にアクセス許可が必要な場合があります
- エラーログは最新10件のみ保持されます