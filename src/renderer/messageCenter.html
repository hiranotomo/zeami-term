<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Command Intelligence Hub - ZeamiTerm</title>
  <link rel="stylesheet" href="./styles/messageCenter.css">
  <link rel="stylesheet" href="./styles/vscode-codicons.css">
  <link rel="stylesheet" href="./components/CommandIntelligence/command-intelligence.css">
</head>
<body>
  <div class="message-center">
    <!-- Header -->
    <div class="header">
      <div class="title-section">
        <h2>Command Intelligence Hub</h2>
        <span class="status-info" id="status-info">
          <span id="command-count">0 commands</span>
          <span class="separator">•</span>
          <span id="message-count">0 messages</span>
        </span>
      </div>
      <div class="actions">
        <button class="action-btn" id="refresh-data" title="データを更新">
          <i class="codicon codicon-refresh"></i>
        </button>
        <button class="action-btn" id="clear-history" title="履歴をクリア">
          <i class="codicon codicon-clear-all"></i>
        </button>
        <button class="action-btn" id="settings" title="設定">
          <i class="codicon codicon-settings-gear"></i>
        </button>
      </div>
    </div>
    
    <!-- Main tabs for different views -->
    <div class="main-tabs">
      <button class="main-tab active" data-view="intelligence">
        <i class="codicon codicon-graph"></i>
        Command Intelligence
      </button>
      <button class="main-tab" data-view="messages">
        <i class="codicon codicon-comment-discussion"></i>
        Messages
      </button>
    </div>
    
    <!-- Intelligence View Container -->
    <div id="intelligence-view" class="view-container active">
      <!-- Command Intelligence Hub will be mounted here -->
      <div id="command-intelligence-root"></div>
    </div>
    
    <!-- Messages View Container -->
    <div id="messages-view" class="view-container" style="display: none;">
      <!-- Filter tabs -->
      <div class="filter-tabs">
        <button class="filter-tab active" data-filter="all">
          <i class="codicon codicon-list-flat"></i>
          すべて
        </button>
        <button class="filter-tab" data-filter="notifications">
          <i class="codicon codicon-bell"></i>
          通知
        </button>
        <button class="filter-tab" data-filter="messages">
          <i class="codicon codicon-comment"></i>
          メッセージ
        </button>
        <button class="filter-tab" data-filter="errors">
          <i class="codicon codicon-error"></i>
          エラー
        </button>
      </div>
      
      <!-- Message list -->
      <div class="message-list-container">
        <div class="message-list" id="message-list">
          <!-- Messages will be dynamically added here -->
        </div>
      </div>
      
      <!-- Message composer -->
      <div class="message-composer">
        <div class="composer-header">
          <label for="target-selector">送信先:</label>
          <select id="target-selector">
            <option value="">ターミナルを選択...</option>
            <option value="broadcast">🌐 すべてのターミナル</option>
          </select>
        </div>
        <div class="composer-input">
          <input type="text" 
                 id="message-input" 
                 placeholder="メッセージを入力..." 
                 autocomplete="off">
          <button id="send-btn" disabled>
            <i class="codicon codicon-send"></i>
            送信
          </button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Empty state -->
  <div class="empty-state" id="empty-state" style="display: none;">
    <div class="empty-icon">
      <i class="codicon codicon-inbox"></i>
    </div>
    <h3>データがありません</h3>
    <p>コマンド実行やメッセージがここに表示されます</p>
  </div>
  
  <!-- React and ReactDOM -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  
  <!-- Main script -->
  <script type="module" src="./messageCenterApp.js"></script>
</body>
</html>